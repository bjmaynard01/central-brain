# LibreChat YAML Configuration (with Nomic + LLaMA 3)

version: 1.2.1
cache: true

interface:
  customWelcome: "Welcome to LibreChat! Enjoy your experience."
  privacyPolicy:
    externalUrl: 'https://librechat.ai/privacy-policy'
    openNewTab: true
  termsOfService:
    externalUrl: 'https://librechat.ai/tos'
    openNewTab: true
    modalAcceptance: true
    modalTitle: "Terms of Service for LibreChat"
    modalContent: |
      # Terms and Conditions for LibreChat
      *Effective Date: February 18, 2024*
      [...truncated for brevity...]
  endpointsMenu: true
  modelSelect: true
  parameters: true
  sidePanel: true
  presets: true
  prompts: true
  bookmarks: true
  multiConvo: true
  agents: true

registration:
  socialLogins: ['github', 'google', 'discord', 'openid', 'facebook', 'apple', 'saml']

actions:
  allowedDomains:
    - "swapi.dev"
    - "librechat.ai"
    - "google.com"

embedding:
  provider: "nomic"
  model: "nomic-embed-text:latest"
  baseURL: "http://rag_api:8000"

vectordb:
  provider: "pgvector"
  connectionUri: "postgresql://postgres:postgres@vectordb:5432/pgvector"

endpoints:
  custom:
    - name: "ollama"
      apiKey: "ollama"
      type: "ollama"
      baseURL: "http://ollama:11434/v1"
      models:
        default: ["llama3:8b-instruct-q6_K"]
        fetch: true
        list:
          - id: "llama3"
            modelName: "llama3:8b-instruct-q6_K"
            label: "LLaMA 3 8b Q6_K (GPU)"
            systemPrompt: |
              You are a helpful AI assistant for the Maynard family.
              - For any questions involving **current, recent, or real-time information**, you must invoke the `web-search` function.
              - This includes (but is not limited to): news, current events, stock prices, weather, exchange rates, sports scores, product availability, prices, AI models, hardware, software versions.
              - If you do not invoke the `web-search` function, you will provide outdated or incorrect answers.
              - If a question does not require real-time information, you may answer normally.
              Do not answer from memory for the categories listed above. Always call `web-search` first.
      titleConvo: true
      titleModel: "current_model"
      summarize: false
      summaryModel: "current_model"
      forcePrompt: true
      modelDisplayLabel: "Maynard Assistant"
      addParams:
        stop:
          - "<|start_header_id|>"
          - "<|end_header_id|>"
          - "<|eot_id|>"
          - "<|reserved_special_token>"
        tools:
          - type: function
            function:
              name: web-search
              description: Searches the web for recent information.
              parameters:
                type: object
                properties:
                  query:
                    type: string
                    description: The search query.
                required: [query]
